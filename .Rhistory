text = element_text(family = "LMRoman", color = "black", size = 24),
plot.caption = element_text(hjust = 0),
axis.text = element_text(color = "black", size = 24),
legend.position = "bottom",
legend.title = element_blank(),
strip.text = element_text(face = "bold", size = 24),
axis.text.y = element_blank()
)
ggsave(file.path(output_path, "Supervisor pct no area for improvement.pdf"), width = 11, height = 7.5)
ggplot(plot_data, aes(x = supervisor_id, y = sup_share_no_area)) +
geom_bar(stat = "identity", position = "dodge", fill = "#FF8C42", width = 0.5) +
# Dashed lines at quartiles
geom_vline(
xintercept = quartile_positions,
linetype = "dashed",
color = "black"
) +
# Adjust text labels position slightly upwards
annotate(
"text",
x = quartile_positions+3,
y = 0.93,  # slightly moved up from 1.02
label = quartile_labels,
angle = 0,  # horizontal text
hjust = 0.5,  # center horizontally
size = 6,
family = "LMRoman"
) +
coord_flip() +
theme_minimal() +
labs(
y = "% of Feedback with No Area for Improvement",
x = "Supervisor"
) +
scale_y_continuous(
expand = c(0, 0.01),
breaks = c(0,0.25, 0.5, 0.75, 1),  # setting major breaks at .25, .5, .75, and 1
limits = c(0.0, 1.02),
labels = scales::percent_format()
) +
theme(
# Remove vertical gridlines (which appear horizontal when flipped)
panel.grid.major.y = element_blank(),
panel.grid.minor.y = element_blank(),
# Keep other aesthetics
panel.grid.minor.x = element_blank(),
text = element_text(family = "LMRoman", color = "black", size = 24),
plot.caption = element_text(hjust = 0),
axis.text = element_text(color = "black", size = 24),
legend.position = "bottom",
legend.title = element_blank(),
strip.text = element_text(face = "bold", size = 24),
axis.text.y = element_blank()
)
ggsave(file.path(output_path, "Supervisor pct no area for improvement.pdf"), width = 11, height = 7.5)
# Plot
ggplot(plot_data, aes(x = supervisor_id, y = sup_share_no_area)) +
geom_bar(stat = "identity", position = "dodge", fill = "#FF8C42", width = 0.5) +
# Dashed lines at quartiles
geom_vline(
xintercept = quartile_positions,
linetype = "dashed",
color = "black"
) +
# Adjust text labels position slightly upwards
annotate(
"text",
x = quartile_positions+3,
y = 0.98,  # slightly moved up from 1.02
label = quartile_labels,
angle = 0,  # horizontal text
hjust = 0.5,  # center horizontally
size = 6,
family = "LMRoman"
) +
coord_flip() +
theme_minimal() +
labs(
y = "% of Feedback with No Area for Improvement",
x = "Supervisor"
) +
scale_y_continuous(
expand = c(0, 0.01),
breaks = c(0,0.25, 0.5, 0.75, 1),  # setting major breaks at .25, .5, .75, and 1
limits = c(0.0, 1.02),
labels = scales::percent_format()
) +
theme(
# Remove vertical gridlines (which appear horizontal when flipped)
panel.grid.major.y = element_blank(),
panel.grid.minor.y = element_blank(),
# Keep other aesthetics
panel.grid.minor.x = element_blank(),
text = element_text(family = "LMRoman", color = "black", size = 24),
plot.caption = element_text(hjust = 0),
axis.text = element_text(color = "black", size = 24),
legend.position = "bottom",
legend.title = element_blank(),
strip.text = element_text(face = "bold", size = 24),
axis.text.y = element_blank()
)
ggsave(file.path(output_path, "Supervisor pct no area for improvement.pdf"), width = 11, height = 7.5)
# Plot
ggplot(plot_data, aes(x = supervisor_id, y = sup_share_no_area)) +
geom_bar(stat = "identity", position = "dodge", fill = "#FF8C42", width = 0.5) +
# Dashed lines at quartiles
geom_vline(
xintercept = quartile_positions,
linetype = "dashed",
color = "black"
) +
# Adjust text labels position slightly upwards
annotate(
"text",
x = quartile_positions+3,
y = 0.95,  # slightly moved up from 1.02
label = quartile_labels,
angle = 0,  # horizontal text
hjust = 0.5,  # center horizontally
size = 6,
family = "LMRoman"
) +
coord_flip() +
theme_minimal() +
labs(
y = "% of Feedback with No Area for Improvement",
x = "Supervisor"
) +
scale_y_continuous(
expand = c(0, 0.01),
breaks = c(0,0.25, 0.5, 0.75, 1),  # setting major breaks at .25, .5, .75, and 1
limits = c(0.0, 1.02),
labels = scales::percent_format()
) +
theme(
# Remove vertical gridlines (which appear horizontal when flipped)
panel.grid.major.y = element_blank(),
panel.grid.minor.y = element_blank(),
# Keep other aesthetics
panel.grid.minor.x = element_blank(),
text = element_text(family = "LMRoman", color = "black", size = 24),
plot.caption = element_text(hjust = 0),
axis.text = element_text(color = "black", size = 24),
legend.position = "bottom",
legend.title = element_blank(),
strip.text = element_text(face = "bold", size = 24),
axis.text.y = element_blank()
)
ggsave(file.path(output_path, "Supervisor pct no area for improvement.pdf"), width = 11, height = 7.5)
# Plot
ggplot(plot_data, aes(x = supervisor_id, y = sup_share_no_area)) +
geom_bar(stat = "identity", position = "dodge", fill = "#FF8C42", width = 0.5) +
# Dashed lines at quartiles
geom_vline(
xintercept = quartile_positions,
linetype = "dashed",
color = "black"
) +
# Adjust text labels position slightly upwards
annotate(
"text",
x = quartile_positions+3,
y = 0.96,  # slightly moved up from 1.02
label = quartile_labels,
angle = 0,  # horizontal text
hjust = 0.5,  # center horizontally
size = 6,
family = "LMRoman"
) +
coord_flip() +
theme_minimal() +
labs(
y = "% of Feedback with No Area for Improvement",
x = "Supervisor"
) +
scale_y_continuous(
expand = c(0, 0.01),
breaks = c(0,0.25, 0.5, 0.75, 1),  # setting major breaks at .25, .5, .75, and 1
limits = c(0.0, 1.02),
labels = scales::percent_format()
) +
theme(
# Remove vertical gridlines (which appear horizontal when flipped)
panel.grid.major.y = element_blank(),
panel.grid.minor.y = element_blank(),
# Keep other aesthetics
panel.grid.minor.x = element_blank(),
text = element_text(family = "LMRoman", color = "black", size = 24),
plot.caption = element_text(hjust = 0),
axis.text = element_text(color = "black", size = 24),
legend.position = "bottom",
legend.title = element_blank(),
strip.text = element_text(face = "bold", size = 24),
axis.text.y = element_blank()
)
ggsave(file.path(output_path, "Supervisor pct no area for improvement.pdf"), width = 11, height = 7.5)
install.packages("tableone")
install.packages("tableone")
library(tableone)
library(dplyr)
library(tableone)
# Assuming 'analysis_data' is your dataset
# Create the table with descriptive statistics
vars <- c("sex", "race", "sat_score_cat")  # Variables to include in the table
# Create a tableone object
table <- CreateTableOne(vars = vars, data = analysis_data)
# Print the table
print(table)
View(table)
vars <- c("sex", "race", "sat_score_cat")  # Variables to include in the table
# Create a tableone object
table <- CreateTableOne(vars = vars, data = analysis_data)
# Convert the table to LaTeX format using print with a specific format
latex_table <- print(table, quote = FALSE, noSpaces = TRUE, printToggle = FALSE)
latex_table
latex_table
print(table, quote = FALSE, noSpaces = TRUE, printToggle = FALSE)
tinytex::install_tinytex()
install.packages("tinytex")
install.packages("tinytex")
library(tinytex)
vars <- c("sex", "race", "sat_score_cat")  # Variables to include in the table
# Create a tableone object
table <- CreateTableOne(vars = vars, data = analysis_data)
# Convert the table to LaTeX format using print with a specific format
latex_table <- print(table, quote = FALSE, noSpaces = TRUE, printToggle = FALSE)
latex_table
library(tinytable)
# Assuming 'analysis_data' is your dataset
vars <- c("sex", "race", "sat_score_cat")  # Variables to include in the table
# Create a summary table for the selected variables
summary_table <- analysis_data %>%
select(sex, race, sat_score_cat) %>%
summary()
# Generate the LaTeX code for the summary table
latex_table <- tinytable(summary_table)
summary_table
analysis_data %>%
select(sex, race, sat_score_cat) %>%
summary()
tt(summary_table)
descriptive_table <- analysis_data %>%
group_by(sex, race, sat_score_cat) %>%
summarise(count = n(), .groups = "drop") %>%
group_by(sex, race) %>%
mutate(
total_by_group = sum(count),
percentage = round(count / total_by_group * 100, 1)
) %>%
ungroup() %>%
mutate(label = paste0(count, " (", percentage, "%)")) %>%
pivot_wider(
id_cols = c(sex, race),
names_from = sat_score_cat,
values_from = label,
values_fill = "0 (0.0%)"
) %>%
mutate(Total = paste0(rowSums(sapply(select(., -sex, -race),
function(x) as.numeric(str_extract(x, "\\d+")))),
" (100%)"))
descriptive_table
pacman::p_load(sumtable)
pacman::p_load(vtable)
sumtable(analysis_data, vars = sat_score_cat)
sumtable(analysis_data, vars = "sat_score_cat")
sumtable(analysis_data, vars = "sat_score_cat", out = "latex")
sumtable(analysis_data,
vars = c("race", "sex", "sat_score_cat"),
out = "latex")
sumtable(analysis_data,
vars = c("sex", "race", "sat_score_cat", "certification"),
out = "latex")
sumtable(analysis_data,
vars = c("sex", "race", "sat_score_cat", "faminc", "certification", "st_local"),
out = "latex")
sumtable(analysis_data,
vars = c("sex", "race", "sat_score_cat", "faminc", "certification", "st_local"),
out = "latex",
summ = c('notNA(x)','mean(x)','sd(x)'))
sumtable(analysis_data,
vars = c("sex", "race", "sat_score_cat", "faminc", "certification", "st_local", "ever_enter_teaching", "exit4"
),
out = "latex",
summ = c('notNA(x)','mean(x)','sd(x)'))
sumtable(analysis_data,
vars = c("sex", "race", "sat_score_cat", "faminc", "certification"),
out = "latex",
summ = c('notNA(x)','mean(x)','sd(x)'))
sumtable(analysis_data,
vars = c("sex", "race", "sat_score_cat", "faminc", "certification"),
out = "latex"
# summ = c('notNA(x)','mean(x)','sd(x)'),
)
sumtable(analysis_data,
vars = c("sex", "race", "sat_score_cat", "gpa_z_cat", "faminc", "certification", "cohort"),
labels = c("Sex", "Race", "SAT Score", "GPA (z-score)", "Family Income", "Certification Area", "Cohort"),
out = "latex"
# summ = c('notNA(x)','mean(x)','sd(x)'),
)
sumtable(analysis_data,
vars = c("sex", "race", "sat_score_cat", "gpa_z_cat", "faminc", "certification"),
labels = c("Sex", "Race", "SAT Score", "High School GPA (z-score)", "Family Income", "Certification Area"),
out = "latex"
# summ = c('notNA(x)','mean(x)','sd(x)'),
)
analysis_data %>%
sumtable(vars = c("sex", "race", "sat_score_cat", "gpa_z_cat", "faminc", "certification"),
labels = c("Sex", "Race", "SAT Score", "High School GPA (z-score)", "Family Income", "Certification Area"),
out = "latex")
analysis_data %>%
mutate(race = factor(race, levels = c("Asian or Pacific Islander", "Black", "Hispanic", "Other", "White, Non-Hispanic", "Missing")),
sat_score_cat = factor(sat_score_cat, levels = c("<1000", "1000-1290", "1300-1600", "Missing"))) %>%
sumtable(vars = c("sex", "race", "sat_score_cat", "gpa_z_cat", "faminc", "certification"),
labels = c("Sex", "Race", "SAT Score", "High School GPA (z-score)", "Family Income", "Certification Area"),
out = "latex")
analysis_data %>%
mutate(race = factor(race, levels = c("Asian or Pacific Islander", "Black", "Hispanic", "Other", "White, Non-Hispanic", "Missing")),
sat_score_cat = factor(sat_score_cat, levels = c("<1000", "1000-1290", "1300-1600", "Missing")),
gpa_z_cat = factor(gpa_z_cat, levels = c("Less than -1 SD", "-1 to 1 SD", "More than 1 SD", "Missing"))) %>%
sumtable(vars = c("sex", "race", "sat_score_cat", "gpa_z_cat", "faminc", "certification"),
labels = c("Sex", "Race", "SAT Score", "High School GPA (z-score)", "Family Income", "Certification Area"),
out = "latex")
analysis_data %>%
mutate(race = factor(race, levels = c("Asian or Pacific Islander", "Black", "Hispanic", "Other", "White, Non-Hispanic", "Missing")),
sat_score_cat = factor(sat_score_cat, levels = c("<1000", "1000-1290", "1300-1600", "Missing")),
gpa_z_cat = factor(gpa_z_cat, levels = c("Less than -1 SD", "-1 to 1 SD", "More than 1 SD", "Missing")),
faminc = factor(faminc, levels = c("<80k", "$80k-150k", ">$150k", ">$80k, 2009 only", "No response", "Unknown"))) %>%
sumtable(vars = c("sex", "race", "sat_score_cat", "gpa_z_cat", "faminc", "certification"),
labels = c("Sex", "Race", "SAT Score", "High School GPA (z-score)", "Family Income", "Certification Area"),
out = "latex")
analysis_data$mother_colldeg
analysis_data %>%
mutate(race = factor(race, levels = c("Asian or Pacific Islander", "Black", "Hispanic", "Other", "White, Non-Hispanic", "Missing")),
sat_score_cat = factor(sat_score_cat, levels = c("<1000", "1000-1290", "1300-1600", "Missing")),
gpa_z_cat = factor(gpa_z_cat, levels = c("Less than -1 SD", "-1 to 1 SD", "More than 1 SD", "Missing")),
faminc = factor(faminc, levels = c("<80k", "$80k-150k", ">$150k", ">$80k, 2009 only", "No response", "Unknown"))) %>%
sumtable(vars = c("sex", "race", "sat_score_cat", "gpa_z_cat", "mother_colldeg", "father_colldeg", "faminc", "certification"),
labels = c("Sex", "Race", "SAT Score", "High School GPA (z-score)", "Family Income", "Certification Area"),
out = "latex")
analysis_data %>%
mutate(race = factor(race, levels = c("Asian or Pacific Islander", "Black", "Hispanic", "Other", "White, Non-Hispanic", "Missing")),
sat_score_cat = factor(sat_score_cat, levels = c("<1000", "1000-1290", "1300-1600", "Missing")),
gpa_z_cat = factor(gpa_z_cat, levels = c("Less than -1 SD", "-1 to 1 SD", "More than 1 SD", "Missing")),
faminc = factor(faminc, levels = c("<80k", "$80k-150k", ">$150k", ">$80k, 2009 only", "No response", "Unknown"))) %>%
sumtable(vars = c("sex", "race", "sat_score_cat", "gpa_z_cat", "mother_colldeg", "father_colldeg", "faminc", "certification"),
labels = c("Sex", "Race", "SAT Score", "High School GPA (z-score)", "Family Income", "Mother Has College Degree", "Father Has College Degree", "Certification Area"),
out = "latex")
analysis_data %>%
mutate(race = factor(race, levels = c("Asian or Pacific Islander", "Black", "Hispanic", "Other", "White, Non-Hispanic", "Missing")),
sat_score_cat = factor(sat_score_cat, levels = c("<1000", "1000-1290", "1300-1600", "Missing")),
gpa_z_cat = factor(gpa_z_cat, levels = c("Less than -1 SD", "-1 to 1 SD", "More than 1 SD", "Missing")),
faminc = factor(faminc, levels = c("<80k", "$80k-150k", ">$150k", ">$80k, 2009 only", "No response", "Unknown"))) %>%
sumtable(vars = c("sex", "race", "sat_score_cat", "gpa_z_cat", "mother_colldeg", "father_colldeg", "faminc", "certification"),
labels = c("Sex", "Race", "SAT Score", "High School GPA (z-score)", "Mother Has College Degree", "Father Has College Degree", "Family Income", "Certification Area"),
out = "latex")
analysis_data %>%
mutate(race = factor(race, levels = c("Asian or Pacific Islander", "Black", "Hispanic", "Other", "White, Non-Hispanic", "Missing")),
sat_score_cat = factor(sat_score_cat, levels = c("<1000", "1000-1290", "1300-1600", "Missing")),
gpa_z_cat = factor(gpa_z_cat, levels = c("Less than -1 SD", "-1 to 1 SD", "More than 1 SD", "Missing")),
faminc = factor(faminc, levels = c("<80k", "$80k-150k", ">$150k", ">$80k, 2009 only", "No response", "Unknown")),
father_colldeg = factor(father_colldeg, levels = c("Yes", "No", "Missing")),
mother_colldeg = factor(father_colldeg, levels = c("Yes", "No", "Missing"))) %>%
sumtable(vars = c("sex", "race", "sat_score_cat", "gpa_z_cat", "mother_colldeg", "father_colldeg", "faminc", "certification"),
labels = c("Sex", "Race", "SAT Score", "High School GPA (z-score)", "Mother Has College Degree", "Father Has College Degree", "Family Income", "Certification Area"),
out = "latex")
analysis_data %>%
mutate(race = factor(race, levels = c("Asian or Pacific Islander", "Black", "Hispanic", "Other", "White, Non-Hispanic", "Missing")),
sat_score_cat = factor(sat_score_cat, levels = c("<1000", "1000-1290", "1300-1600", "Missing")),
gpa_z_cat = factor(gpa_z_cat, levels = c("Less than -1 SD", "-1 to 1 SD", "More than 1 SD", "Missing")),
faminc = factor(faminc, levels = c("<80k", "$80k-150k", ">$150k", ">$80k, 2009 only", "No response", "Unknown")),
father_colldeg = factor(mother_colldeg, levels = c("Yes", "No", "Missing")),
mother_colldeg = factor(father_colldeg, levels = c("Yes", "No", "Missing"))) %>%
sumtable(vars = c("sex", "race", "sat_score_cat", "gpa_z_cat", "mother_colldeg", "father_colldeg", "faminc", "certification"),
labels = c("Sex", "Race", "SAT Score", "High School GPA (z-score)", "Mother Has College Degree", "Father Has College Degree", "Family Income", "Certification Area"),
out = "latex")
analysis_data$cohort
table(analysis_data$cohort)
descriptive_table <- analysis_data %>%
mutate(race = factor(race, levels = c("Asian or Pacific Islander", "Black", "Hispanic", "Other", "White, Non-Hispanic", "Missing")),
sat_score_cat = factor(sat_score_cat, levels = c("<1000", "1000-1290", "1300-1600", "Missing")),
gpa_z_cat = factor(gpa_z_cat, levels = c("Less than -1 SD", "-1 to 1 SD", "More than 1 SD", "Missing")),
faminc = factor(faminc, levels = c("<80k", "$80k-150k", ">$150k", ">$80k, 2009 only", "No response", "Unknown")),
father_colldeg = factor(mother_colldeg, levels = c("Yes", "No", "Missing")),
mother_colldeg = factor(father_colldeg, levels = c("Yes", "No", "Missing"))) %>%
sumtable(vars = c("sex", "race", "sat_score_cat", "gpa_z_cat", "mother_colldeg", "father_colldeg", "faminc", "certification"),
labels = c("Sex", "Race", "SAT Score", "High School GPA (z-score)", "Mother Has College Degree", "Father Has College Degree", "Family Income", "Certification Area"),
out = "latex")
descriptive_table <- analysis_data %>%
mutate(race = factor(race, levels = c("Asian or Pacific Islander", "Black", "Hispanic", "Other", "White, Non-Hispanic", "Missing")),
sat_score_cat = factor(sat_score_cat, levels = c("<1000", "1000-1290", "1300-1600", "Missing")),
gpa_z_cat = factor(gpa_z_cat, levels = c("Less than -1 SD", "-1 to 1 SD", "More than 1 SD", "Missing")),
faminc = factor(faminc, levels = c("<80k", "$80k-150k", ">$150k", ">$80k, 2009 only", "No response", "Unknown")),
father_colldeg = factor(mother_colldeg, levels = c("Yes", "No", "Missing")),
mother_colldeg = factor(father_colldeg, levels = c("Yes", "No", "Missing"))) %>%
sumtable(vars = c("sex", "race", "sat_score_cat", "gpa_z_cat", "mother_colldeg", "father_colldeg", "faminc", "certification"),
labels = c("Sex", "Race", "SAT Score", "High School GPA (z-score)", "Mother Has College Degree", "Father Has College Degree", "Family Income", "Certification Area"),
out = "latex")
descriptive_table
descriptive_table <- analysis_data %>%
mutate(race = factor(race, levels = c("Asian or Pacific Islander", "Black", "Hispanic", "Other", "White, Non-Hispanic", "Missing")),
sat_score_cat = factor(sat_score_cat, levels = c("<1000", "1000-1290", "1300-1600", "Missing")),
gpa_z_cat = factor(gpa_z_cat, levels = c("Less than -1 SD", "-1 to 1 SD", "More than 1 SD", "Missing")),
faminc = factor(faminc, levels = c("<80k", "$80k-150k", ">$150k", ">$80k, 2009 only", "No response", "Unknown")),
father_colldeg = factor(mother_colldeg, levels = c("Yes", "No", "Missing")),
mother_colldeg = factor(father_colldeg, levels = c("Yes", "No", "Missing"))) %>%
sumtable(vars = c("sex", "race", "sat_score_cat", "gpa_z_cat", "mother_colldeg", "father_colldeg", "faminc", "certification"),
labels = c("Sex", "Race", "SAT Score", "High School GPA (z-score)", "Mother Has College Degree", "Father Has College Degree", "Family Income", "Certification Area"))
descriptive_table
descriptive_table <- analysis_data %>%
mutate(race = factor(race, levels = c("Asian or Pacific Islander", "Black", "Hispanic", "Other", "White, Non-Hispanic", "Missing")),
sat_score_cat = factor(sat_score_cat, levels = c("<1000", "1000-1290", "1300-1600", "Missing")),
gpa_z_cat = factor(gpa_z_cat, levels = c("Less than -1 SD", "-1 to 1 SD", "More than 1 SD", "Missing")),
faminc = factor(faminc, levels = c("<80k", "$80k-150k", ">$150k", ">$80k, 2009 only", "No response", "Unknown")),
father_colldeg = factor(mother_colldeg, levels = c("Yes", "No", "Missing")),
mother_colldeg = factor(father_colldeg, levels = c("Yes", "No", "Missing"))) %>%
sumtable(vars = c("sex", "race", "sat_score_cat", "gpa_z_cat", "mother_colldeg", "father_colldeg", "faminc", "certification"),
labels = c("Sex", "Race", "SAT Score", "High School GPA (z-score)", "Mother Has College Degree", "Father Has College Degree", "Family Income", "Certification Area"),
out = "data.frame")
??sumtable
descriptive_table <- analysis_data %>%
mutate(race = factor(race, levels = c("Asian or Pacific Islander", "Black", "Hispanic", "Other", "White, Non-Hispanic", "Missing")),
sat_score_cat = factor(sat_score_cat, levels = c("<1000", "1000-1290", "1300-1600", "Missing")),
gpa_z_cat = factor(gpa_z_cat, levels = c("Less than -1 SD", "-1 to 1 SD", "More than 1 SD", "Missing")),
faminc = factor(faminc, levels = c("<80k", "$80k-150k", ">$150k", ">$80k, 2009 only", "No response", "Unknown")),
father_colldeg = factor(mother_colldeg, levels = c("Yes", "No", "Missing")),
mother_colldeg = factor(father_colldeg, levels = c("Yes", "No", "Missing"))) %>%
sumtable(vars = c("sex", "race", "sat_score_cat", "gpa_z_cat", "mother_colldeg", "father_colldeg", "faminc", "certification"),
labels = c("Sex", "Race", "SAT Score", "High School GPA (z-score)", "Mother Has College Degree", "Father Has College Degree", "Family Income", "Certification Area"),
out = "return")
View(descriptive_table)
descriptive_table <- analysis_data %>%
mutate(race = factor(race, levels = c("Asian or Pacific Islander", "Black", "Hispanic", "Other", "White, Non-Hispanic", "Missing")),
sat_score_cat = factor(sat_score_cat, levels = c("<1000", "1000-1290", "1300-1600", "Missing")),
gpa_z_cat = factor(gpa_z_cat, levels = c("Less than -1 SD", "-1 to 1 SD", "More than 1 SD", "Missing")),
faminc = factor(faminc, levels = c("<80k", "$80k-150k", ">$150k", ">$80k, 2009 only", "No response", "Unknown")),
father_colldeg = factor(mother_colldeg, levels = c("Yes", "No", "Missing")),
mother_colldeg = factor(father_colldeg, levels = c("Yes", "No", "Missing"))) %>%
sumtable(vars = c("sex", "race", "sat_score_cat", "gpa_z_cat", "mother_colldeg", "father_colldeg", "faminc", "certification"),
labels = c("Sex", "Race", "SAT Score", "High School GPA (z-score)", "Mother Has College Degree", "Father Has College Degree", "Family Income", "Certification Area"),
out = "latexpage")
descriptive_table <- analysis_data %>%
mutate(race = factor(race, levels = c("Asian or Pacific Islander", "Black", "Hispanic", "Other", "White, Non-Hispanic", "Missing")),
sat_score_cat = factor(sat_score_cat, levels = c("<1000", "1000-1290", "1300-1600", "Missing")),
gpa_z_cat = factor(gpa_z_cat, levels = c("Less than -1 SD", "-1 to 1 SD", "More than 1 SD", "Missing")),
faminc = factor(faminc, levels = c("<80k", "$80k-150k", ">$150k", ">$80k, 2009 only", "No response", "Unknown")),
father_colldeg = factor(mother_colldeg, levels = c("Yes", "No", "Missing")),
mother_colldeg = factor(father_colldeg, levels = c("Yes", "No", "Missing"))) %>%
sumtable(vars = c("sex", "race", "sat_score_cat", "gpa_z_cat", "mother_colldeg", "father_colldeg", "faminc", "certification"),
labels = c("Sex", "Race", "SAT Score", "High School GPA (z-score)", "Mother Has College Degree", "Father Has College Degree", "Family Income", "Certification Area"),
out = "latexpage") %>%
as.character()
descriptive_table <- analysis_data %>%
mutate(race = factor(race, levels = c("Asian or Pacific Islander", "Black", "Hispanic", "Other", "White, Non-Hispanic", "Missing")),
sat_score_cat = factor(sat_score_cat, levels = c("<1000", "1000-1290", "1300-1600", "Missing")),
gpa_z_cat = factor(gpa_z_cat, levels = c("Less than -1 SD", "-1 to 1 SD", "More than 1 SD", "Missing")),
faminc = factor(faminc, levels = c("<80k", "$80k-150k", ">$150k", ">$80k, 2009 only", "No response", "Unknown")),
father_colldeg = factor(mother_colldeg, levels = c("Yes", "No", "Missing")),
mother_colldeg = factor(father_colldeg, levels = c("Yes", "No", "Missing"))) %>%
sumtable(vars = c("sex", "race", "sat_score_cat", "gpa_z_cat", "mother_colldeg", "father_colldeg", "faminc", "certification"),
labels = c("Sex", "Race", "SAT Score", "High School GPA (z-score)", "Mother Has College Degree", "Father Has College Degree", "Family Income", "Certification Area"),
out = "latex") %>%
as.character()
paste0(output_path, "/Descriptive_Table.tex")
analysis_data %>%
mutate(race = factor(race, levels = c("Asian or Pacific Islander", "Black", "Hispanic", "Other", "White, Non-Hispanic", "Missing")),
sat_score_cat = factor(sat_score_cat, levels = c("<1000", "1000-1290", "1300-1600", "Missing")),
gpa_z_cat = factor(gpa_z_cat, levels = c("Less than -1 SD", "-1 to 1 SD", "More than 1 SD", "Missing")),
faminc = factor(faminc, levels = c("<80k", "$80k-150k", ">$150k", ">$80k, 2009 only", "No response", "Unknown")),
father_colldeg = factor(mother_colldeg, levels = c("Yes", "No", "Missing")),
mother_colldeg = factor(father_colldeg, levels = c("Yes", "No", "Missing"))) %>%
sumtable(vars = c("sex", "race", "sat_score_cat", "gpa_z_cat", "mother_colldeg", "father_colldeg", "faminc", "certification"),
labels = c("Sex", "Race", "SAT Score", "High School GPA (z-score)", "Mother Has College Degree", "Father Has College Degree", "Family Income", "Certification Area"),
out = "latex",
file = paste0(output_path, "/Descriptive_Table.tex"))
analysis_data %>%
mutate(race = factor(race, levels = c("Asian or Pacific Islander", "Black", "Hispanic", "Other", "White, Non-Hispanic", "Missing")),
sat_score_cat = factor(sat_score_cat, levels = c("<1000", "1000-1290", "1300-1600", "Missing")),
gpa_z_cat = factor(gpa_z_cat, levels = c("Less than -1 SD", "-1 to 1 SD", "More than 1 SD", "Missing")),
faminc = factor(faminc, levels = c("<80k", "$80k-150k", ">$150k", ">$80k, 2009 only", "No response", "Unknown")),
father_colldeg = factor(mother_colldeg, levels = c("Yes", "No", "Missing")),
mother_colldeg = factor(father_colldeg, levels = c("Yes", "No", "Missing"))) %>%
sumtable(vars = c("sex", "race", "sat_score_cat", "gpa_z_cat", "mother_colldeg", "father_colldeg", "faminc", "certification"),
labels = c("Sex", "Race", "SAT Score", "High School GPA (z-score)", "Mother Has College Degree", "Father Has College Degree", "Family Income", "Certification Area"),
out = "latex",
fit.page = '0.75\\textwidth',
file = paste0(output_path, "/Descriptive_Table.tex"))
# Descriptive table----
analysis_data %>%
mutate(race = factor(race, levels = c("Asian or Pacific Islander", "Black", "Hispanic", "Other", "White, Non-Hispanic", "Missing")),
sat_score_cat = factor(sat_score_cat, levels = c("<1000", "1000-1290", "1300-1600", "Missing")),
gpa_z_cat = factor(gpa_z_cat, levels = c("Less than -1 SD", "-1 to 1 SD", "More than 1 SD", "Missing")),
faminc = factor(faminc, levels = c("<80k", "$80k-150k", ">$150k", ">$80k, 2009 only", "No response", "Unknown")),
father_colldeg = factor(mother_colldeg, levels = c("Yes", "No", "Missing")),
mother_colldeg = factor(father_colldeg, levels = c("Yes", "No", "Missing"))) %>%
sumtable(vars = c("sex", "race", "sat_score_cat", "gpa_z_cat", "mother_colldeg", "father_colldeg", "faminc", "certification"),
labels = c("Sex", "Race", "SAT Score", "High School GPA (z-score)", "Mother Has College Degree", "Father Has College Degree", "Family Income", "Certification Area"),
out = "latex",
fit.page = '0.5\\textwidth',
file = paste0(output_path, "/Descriptive_Table.tex"))
table(analysis_data$faminc)
analysis_data %>%
mutate(race = factor(race, levels = c("Asian or Pacific Islander", "Black", "Hispanic", "Other", "White, Non-Hispanic", "Missing")),
sat_score_cat = factor(sat_score_cat, levels = c("<1000", "1000-1290", "1300-1600", "Missing")),
gpa_z_cat = factor(gpa_z_cat, levels = c("Less than -1 SD", "-1 to 1 SD", "More than 1 SD", "Missing")),
faminc = factor(faminc, levels = c("<$80k", "$80k-150k", ">$150k", ">$80k, 2009 only", "No response", "Unknown")),
father_colldeg = factor(mother_colldeg, levels = c("Yes", "No", "Missing")),
mother_colldeg = factor(father_colldeg, levels = c("Yes", "No", "Missing"))) %>%
sumtable(vars = c("sex", "race", "sat_score_cat", "gpa_z_cat", "mother_colldeg", "father_colldeg", "faminc", "certification"),
labels = c("Sex", "Race", "SAT Score", "High School GPA (z-score)", "Mother Has College Degree", "Father Has College Degree", "Family Income", "Certification Area"),
out = "latex",
fit.page = '0.5\\textwidth',
file = paste0(output_path, "/Descriptive_Table.tex"))
